<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VASUKI Digital Card</title>

<style>
body{font-family:Arial;background:#f2f2f2;margin:0;text-align:center}
.card{max-width:420px;margin:20px auto;background:#fff;padding:25px;border-radius:18px;box-shadow:0 6px 20px rgba(0,0,0,0.08)}
.btn{display:block;background:#000;color:#fff;padding:12px;margin:8px 0;text-decoration:none;border-radius:10px}
.footer{margin-top:15px;font-size:12px;color:#777}
</style>
</head>

<body>

<div class="card">
  <h2 id="name">Loading...</h2>
  <p id="role"></p>

  <a class="btn" id="call">üìû Call</a>
  <a class="btn" id="wa">üí¨ WhatsApp</a>
  <a class="btn" id="map">üìç Location</a>

  <div class="footer">Digital Card by <b>VASUKI NFC</b></div>
</div>

<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/1wNjx22kFG265vQ8-zG18u9fHRIB8BQXSgEAtvzz7YB8/edit?usp=sharing";

const params = new URLSearchParams(window.location.search);
const id = parseInt(params.get("id") || "1");

fetch(sheetURL)
.then(res => res.text())
.then(csv => {
  const rows = csv.trim().split("\n").slice(1);
  const cols = rows[id-1].split(",");

  const name = cols[0];
  const phone = cols[1];
  const role = cols[2];
  const map = cols[3];

  document.getElementById("name").innerText = name;
  document.getElementById("role").innerText = role;
  document.getElementById("call").href = "tel:" + phone;
  document.getElementById("wa").href = "https://wa.me/91" + phone;
  document.getElementById("map").href = map;
});
</script>

</body>
</html>
